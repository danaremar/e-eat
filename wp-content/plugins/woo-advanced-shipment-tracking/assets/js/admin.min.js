jQuery(function(a){var b={init:function(){a("#woocommerce-shipment-tracking").on("click","a.delete-tracking",this.delete_tracking).on("click","button.button-show-form",this.show_form).on("click","button.button-save-form",this.save_form)},save_form:function(){if(!a("input#tracking_number").val())return!1;a("#shipment-tracking-form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var b={action:"wc_shipment_tracking_save_form",order_id:woocommerce_admin_meta_boxes.post_id,tracking_provider:a("#tracking_provider").val(),custom_tracking_provider:a("#custom_tracking_provider").val(),custom_tracking_link:a("input#custom_tracking_link").val(),tracking_number:a("input#tracking_number").val(),date_shipped:a("input#date_shipped").val(),security:a("#wc_shipment_tracking_create_nonce").val()};return a.post(woocommerce_admin_meta_boxes.ajax_url,b,function(b){a("#shipment-tracking-form").unblock(),"-1"!=b&&(a("#shipment-tracking-form").hide(),a("#woocommerce-shipment-tracking #tracking-items").append(b),a("#woocommerce-shipment-tracking button.button-show-form").show(),a("#tracking_provider").selectedIndex=0,a("#custom_tracking_provider").val(""),a("input#custom_tracking_link").val(""),a("input#tracking_number").val(""),a("input#date_shipped").val(""),a("p.preview_tracking_link").hide())}),!1},show_form:function(){a("#shipment-tracking-form").show(),a("#woocommerce-shipment-tracking button.button-show-form").hide()},delete_tracking:function(){var b=a(this).attr("rel");a("#tracking-item-"+b).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var c={action:"wc_shipment_tracking_delete_item",order_id:woocommerce_admin_meta_boxes.post_id,tracking_id:b,security:a("#wc_shipment_tracking_delete_nonce").val()};return a.post(woocommerce_admin_meta_boxes.ajax_url,c,function(c){a("#tracking-item-"+b).unblock(),"-1"!=c&&a("#tracking-item-"+b).remove()}),!1},refresh_items:function(){var b={action:"wc_shipment_tracking_get_items",order_id:woocommerce_admin_meta_boxes.post_id,security:a("#wc_shipment_tracking_get_nonce").val()};a("#woocommerce-shipment-tracking").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_admin_meta_boxes.ajax_url,b,function(b){a("#woocommerce-shipment-tracking").unblock(),"-1"!=b&&a("#woocommerce-shipment-tracking #tracking-items").html(b)})}};b.init(),window.wc_shipment_tracking_refresh=b.refresh_items});