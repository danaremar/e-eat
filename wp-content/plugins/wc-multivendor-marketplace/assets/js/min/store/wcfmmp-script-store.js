jQuery(document).ready(function(e){e("#wcfmmp-store").parent().hasClass("col-md-8")&&(e("#wcfmmp-store").parent().removeClass("col-md-8"),e("#wcfmmp-store").parent().addClass("col-md-12")),e("#wcfmmp-store").parent().hasClass("col-md-9")&&(e("#wcfmmp-store").parent().removeClass("col-md-9"),e("#wcfmmp-store").parent().addClass("col-md-12")),e("#wcfmmp-store").parent().hasClass("col-sm-8")&&(e("#wcfmmp-store").parent().removeClass("col-sm-8"),e("#wcfmmp-store").parent().addClass("col-md-12")),e("#wcfmmp-store").parent().hasClass("col-sm-9")&&(e("#wcfmmp-store").parent().removeClass("col-sm-9"),e("#wcfmmp-store").parent().addClass("col-md-12")),e("#wcfmmp-store").parent().removeClass("col-sm-push-3"),e("#wcfmmp-store").parent().removeClass("col-sm-push-4"),e("#wcfmmp-store").parent().removeClass("col-md-push-3"),e("#wcfmmp-store").parent().removeClass("col-md-push-4"),e(".left_sidebar").length>0&&e(window).width()>768&&($left_sidebar_height=e(".left_sidebar").outerHeight(),$right_side_height=e(".right_side").outerHeight(),$left_sidebar_height<$right_side_height&&e(".left_sidebar").css("height",$right_side_height+50)),e(window).width()>768&&($wcfm_store_header_width=e("#wcfm_store_header").outerWidth(),e("#wcfmmp-store .address").css("width",$wcfm_store_header_width/3*2-100)),$store_address=jQuery(".wcfm_store_address").val(),$store_lat=jQuery(".wcfm_store_lat").val(),$store_lng=jQuery(".wcfm_store_lng").val(),e(".wcfmmp-store-map").length>0&&e(".wcfmmp-store-map").each(function(){if($store_map=e(this).attr("id"),e("#"+$store_map).css("height",e("#"+$store_map).outerWidth()),"google"==wcfm_maps.lib){var s=new google.maps.LatLng($store_lat,$store_lng),t=new google.maps.Map(document.getElementById($store_map),{center:s,blur:!0,mapTypeId:wcfm_maps.map_type,zoom:parseInt(wcfmmp_store_map_options.default_zoom)}),a={url:wcfmmp_store_map_options.store_icon,scaledSize:new google.maps.Size(wcfmmp_store_map_options.icon_width,wcfmmp_store_map_options.icon_height)};new google.maps.Marker({map:t,position:s,animation:google.maps.Animation.DROP,icon:a,draggable:!1}).addListener("click",function(){wcfm_params.is_mobile||wcfm_params.is_tablet?window.open("https://maps.google.com/?q="+$store_address+",16z?hl=en-US","_blank"):window.open("https://google.com/maps/place/"+$store_address+"/@"+$store_lat+","+$store_lng+",16z?hl=en-US","_blank")})}else t=L.map($store_map,{center:[$store_lat,$store_lng],minZoom:2,zoom:parseInt(wcfmmp_store_map_options.default_zoom),zoomAnimation:!1}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{subdomains:["a","b","c"]}).addTo(t),L.marker([$store_lat,$store_lng]).addTo(t).on("click",function(){window.open("https://www.openstreetmap.org/?mlat="+$store_lat+"&mlon="+$store_lng+"#map=14/"+$store_lat+"/"+$store_lng,"_blank")}),e('a[href="#tab-wcfm_location_tab"]').click(function(){setTimeout(function(){t.invalidateSize()},500)}),e('a[href="#tab-wcfm_product_store_tab"]').click(function(){setTimeout(function(){t.invalidateSize()},500)})}),e("#stars li").on("mouseover",function(){var s=parseInt(e(this).data("value"),10);e(this).parent().children("li.star").each(function(t){t<s?e(this).addClass("hover"):e(this).removeClass("hover")})}).on("mouseout",function(){e(this).parent().children("li.star").each(function(s){e(this).removeClass("hover")})}),e(".stars").each(function(){e(this).find("li").on("mouseover",function(){var s=parseInt(e(this).data("value"),10);e(this).parent().children("li.star").each(function(t){t<s?e(this).addClass("hover"):e(this).removeClass("hover")})}).on("mouseout",function(){e(this).parent().children("li.star").each(function(s){e(this).removeClass("hover")})}),e(this).find("li").on("click",function(){var s=parseInt(e(this).data("value"),10),t=e(this).parent().children("li.star");for(i=0;i<t.length;i++)e(t[i]).removeClass("selected");for(i=0;i<s;i++)e(t[i]).addClass("selected");var a=parseInt(e(this).parent().find("li.selected").last().data("value"),10);e(this).parent().parent().find(".rating_value").val(a),e(this).parent().parent().find(".rating_text").text(a)})}),e(".store_rating_value").each(function(){var s=parseInt(e(this).val()),t=e(this).parent().children("i.fa-star");for(i=0;i<s;i++)e(t[i]).addClass("selected")}),e(".reviews_area_live").addClass("wcfm_custom_hide"),e(".reviews_area_dummy").find('button, input[type="text"]').click(function(){wcfm_params.is_user_logged_in?(e(".reviews_area_dummy").addClass("wcfm_custom_hide"),e(".reviews_area_live").removeClass("wcfm_custom_hide")):alert(wcfm_core_dashboard_messages.user_non_logged_in)}),e(".reviews_area_live").find("a.cancel_review_add").click(function(s){return s.preventDefault(),wcfm_params.is_user_logged_in?(e(".reviews_area_live").addClass("wcfm_custom_hide"),e(".reviews_area_dummy").removeClass("wcfm_custom_hide")):alert(wcfm_core_dashboard_messages.user_non_logged_in),!1}),e("#wcfmmp_store_review_submit").click(function(s){s.preventDefault();var t=e("#wcfmmp_store_review_comment").val();if($has_rating=!1,e(".rating_value").each(function(){$rating_value=e(this).val(),"0"!=$rating_value&&($has_rating=!0)}),$is_valid=!0,e(".wcfm-message").html("").removeClass("wcfm-error").removeClass("wcfm-success").slideUp(),$has_rating?0==t.length&&($is_valid=!1,e("#wcfmmp_store_review_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+wcfm_reviews_messages.no_comment).addClass("wcfm-error").slideDown(),wcfm_notification_sound.play()):($is_valid=!1,e("#wcfmmp_store_review_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+wcfm_reviews_messages.no_rating).addClass("wcfm-error").slideDown(),wcfm_notification_sound.play()),$is_valid){e("#wcfmmp_store_review_form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var a={action:"wcfm_ajax_controller",controller:"wcfm-reviews-submit",wcfm_store_review_form:jQuery("#wcfmmp_store_review_form").serialize()};e.post(wcfm_params.ajax_url,a,function(s){s&&($response_json=e.parseJSON(s),e(".wcfm-message").html("").removeClass("wcfm-error").removeClass("wcfm-success").slideUp(),wcfm_notification_sound.play(),$response_json.status?(e("#wcfmmp_store_review_comment").val(""),e("#wcfmmp_store_review_form .wcfm-message").html('<span class="wcicon-status-completed"></span>'+$response_json.message).addClass("wcfm-success").slideDown("slow",function(){setTimeout(function(){$response_json.redirect&&window.location.reload(),e(".reviews_area_live").addClass("wcfm_custom_hide"),e(".reviews_area_dummy").addClass("wcfm_custom_hide")},2e3)})):e("#wcfmmp_store_review_form .wcfm-message").html('<span class="wcicon-status-cancelled"></span>'+$response_json.message).addClass("wcfm-error").slideDown(),e("#wcfmmp_store_review_form").unblock())})}})}),jQuery(document).ready(function(e){if(e(".wcfm_slider_area").length>0){var s={slideIndex:1,timeoutId:0,init:function(){var s=e(".wcfm_slider_area").width();e(".wcfm_slideshow_container").css({width:s,overflow:"hidden"}),this.bindEvents(),this.showSlides()},bindEvents:function(){that=this,e("body").on("click",".wcfm_slideshow_container .next",that.CallnextSlide),e("body").on("click",".wcfm_slideshow_container .prev",that.CallprevSlide)},CallnextSlide:function(){s.plusSlides(1)},CallprevSlide:function(){s.plusSlides(-1)},plusSlides:function(e){clearTimeout(that.timeoutId),s.showSlides(s.slideIndex+=e)},showSlides:function(s){var t,a=this,o=e(".wcfmSlides");for(s>o.length&&(a.slideIndex=1),s<1&&(a.slideIndex=o.length),t=0;t<o.length;t++)o[t].style.display="none";o[a.slideIndex-1].style.display="block",a.timeoutId=setTimeout(function(){a.showSlides(a.slideIndex+=1)},wcfm_slider_banner_delay.delay)}};s.init()}});